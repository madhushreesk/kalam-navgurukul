import{a as y}from"./vendor_axios.5abceb0c.js";import{ca as C,bh as $,bi as N,bj as k,aI as i,bb as s,bc as w,aT as t,bd as D,bw as j,bz as F,bA as W,bB as p,bt as h,bF as B,bs as b}from"./vendor.5ecbfc3b.js";import{H as I}from"./vendor_react_epic_spinners.391a1898.js";import{c as n}from"./index.48474fd0.js";import"./vendor_core_js_pure.42317256.js";import"./vendor_mui_datatables.cb4acd6b.js";import"./vendor_lodash.e638c0fa.js";import"./vendor_react_slick.f5eccc0b.js";import"./vendor_react_easy_edit.a45942fe.js";import"./vendor_react_player.581c7f95.js";const A="https://join.navgurukul.org/api/",U=()=>{const g=C(),{enqueueSnackbar:o}=$(),{isFetching:v}=N(a=>a.ui),l=k(),[e,c]=i.useState("SelectRP"),[r,m]=i.useState(""),[d,u]=i.useState("");i.useEffect(()=>l(n(!1)),[]);const f=a=>a==="Role"?"roles":"privilege",P=a=>c(a.target.value),R=a=>m(a.target.value),S=a=>u(a.target.value),x=async()=>{if(window.confirm(`Create ${e} by Name ${r}?`))try{l(n(!0)),await y.post(`${A}role/create${e}`,{[f(e)]:r,description:d}),o(`${e} created by name ${r}`,{variant:"success"}),l(n(!1)),c("SelectRP"),m(""),u("")}catch(a){o(`Error while creating ${e}`,{variant:"error"}),console.error(a),l(n(!1))}};return s(w,{sx:{py:"1rem"},maxWidth:"md",children:[t(D,{sx:{mb:"2.4rem"},variant:"h4",children:"Enter New Role/Privilege Details"}),s(j,{fullWidth:!0,sx:{my:"0.4rem"},children:[t(F,{children:"Select Role/Privilege"}),s(W,{fullWidth:!0,label:"Select Role/Privilege",placeholder:"Select Role/Privilege",name:"select-rp",value:e,onChange:P,children:[t(p,{disabled:!0,value:"SelectRP",children:"Select an Option"}),["Role","Privilege"].map(a=>t(p,{value:a,children:a},a))]})]}),t(h,{fullWidth:!0,name:`${e} name`,label:`${e} Name`,placeholder:`${e} Name`,value:r,onChange:R,disabled:e==="selectrp",sx:{my:"0.4rem"}}),t(h,{fullWidth:!0,name:`${e} desc`,label:`${e} Description`,placeholder:`A little description for ${e}`,value:d,onChange:S,disabled:e==="selectrp",sx:{my:"0.8rem"}}),s(B,{sx:{my:"0.8rem",px:"0.4rem",display:"flex",justifyContent:"flex-end",gap:"0.6rem"},children:[t(b,{variant:"contained",color:"primary",onClick:x,disabled:e==="SelectRP"||r==="",children:v?t(I,{size:24}):`Create ${e}`}),t(b,{variant:"outlined",color:"primary",onClick:()=>g(-1),children:"Go Back"})]})]})};export{U as default};
